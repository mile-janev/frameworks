<div class="block-wrapper">
    <h2>Methods description:</h2>
    <div class="block-description">
        <ul>
            <li>
                <strong>find()</strong>
                - 
                <span>
                    Receiving integer (primary key for table) or array of integers as parameter.
                    Return an object of class Zend_Db_Table_Rowset.
                    Object with empty data is returned if record is not founded.
                </span>
            </li>
            <li>
                <strong>fetchRow()</strong>
                - 
                <span>
                    Receiving a string like query condition (example: "id=".$id).
                    Return an object from class Zend_Db_Table_Row if record is found,
                    or null if record is not founded.
                </span>
            </li>
            <li>
                <strong>fetchAll()</strong>
                - 
                <span>
                    Receiving a string like query condition (example: "id=".$id).
                    Return an object from class Zend_Db_Table_Rowset.
                    Object with empty data is returned if record is not founded.
                </span>
            </li>
            <li>
                <strong>Zend_Db_Select</strong>
                - 
                <span>
                    The Zend_Db_Select object represents a SQL SELECT query statement.
                    The class has methods for adding individual parts to the query.
                    Using this way of selecting records requires using of fetch() or fetchAll()
                    on this object, so all records will be fetched into array or array of arrays.
                </span>
            </li>            
        </ul>
    </div>
</div>

<div class="block-wrapper">
    <div class="block-chart">
        <div id="chart1-zend"></div>
    </div>
</div>

<div id="find-fetchRow" class="block-wrapper">
    
    <div class="block-wrapper-inner">
        <h2>Different methods for same purpose</h2>
        <div class="block-description">
            <p>
                Somethimes we have cases where multiple methods can be used for same purpose.
            </p>
        </div>
    </div>
    
    <div class="block-wrapper-inner">
        <h3>Fastest method</h3>
        <div class="block-description">
            <p>
                Chart above shows us that fastest method
                for selecting data in Zend is fetchAll() method.
            </p>
        </div>
    </div>
    
    <div class="block-wrapper-inner">
        <h3>Selecting one record (find() & fetchRow())</h3>
        <div class="block-description">
            <p>
                These two methods return one result from database. If we have case when we need to select
                row when we have the primary key, we can use any of these methods. But, find() method is much more
                specific, than select only by primary key. This makes him faster than fetchRow();
            </p>
        </div>
    </div>
    
    <div class="block-wrapper-inner">
        <h3>Selecting multiple records (findAll() & Zend_Db_Select)</h3>
        <div class="block-description">
            <p>
                These two methods will return us all result from database which will satisfy the query.
                As we can see from diagram, findAll() method is much faster than using Zend_Db_Select.
                Advantage of Zend_Db_Select is writing partial queries, which is much easier for building
                dynamic query.
            </p>
        </div>
    </div>
    
</div>

<script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    
    jQuery(window).resize(function(){
        drawChart();
    });
    
    google.setOnLoadCallback(drawChart);
    
    function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['Database Type', 'find()', 'fetchRow()', 'fetchAll()', 'Zend_Db_Select'],
            ['Small', <?php echo $this->find_zend['small']; ?>, <?php echo $this->fetchRow_zend['small']; ?>, <?php echo $this->fetchAll_zend['small']; ?>, <?php echo $this->dbselect_zend['small']; ?>],
            ['Medium', <?php echo $this->find_zend['medium']; ?>, <?php echo $this->fetchRow_zend['medium']; ?>, <?php echo $this->fetchAll_zend['medium']; ?>, <?php echo $this->dbselect_zend['medium']; ?>],
            ['Large', <?php echo $this->find_zend['large']; ?>, <?php echo $this->fetchRow_zend['large']; ?>, <?php echo $this->fetchAll_zend['large']; ?>, <?php echo $this->dbselect_zend['large']; ?>]
        ]);
        var options = {
            title: 'find(), fetchRow(), fetchAll(), Zend_Db_Select in Zend',
            vAxis: {title: 'Executions per second', titleTextStyle: {color: 'red'}},
            hAxis: {title: 'Table Size', titleTextStyle: {color: 'red'}},
            height: 300
        };
        var chart = new google.visualization.ColumnChart(document.getElementById('chart1-zend'));
        chart.draw(data, options);
    }
</script>